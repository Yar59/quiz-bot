# Бот для проведения викторин во Вконтакте или Telegram

Состоит из двух независимых ботов для:
- Telegram
- VK

[Пример бота TG](https://t.me/dvmn_quiz_quiz_bot)


[Пример бота ВК](https://vk.com/public216230522)


## Перед использованием

Для работы Telegram бота получите его токен [(Как создать канал, бота и получить токен.)](https://smmplanner.com/blog/otlozhennyj-posting-v-telegram/) 

Для работы ВК бота создайте группу и получите ключ API для работы с сообщениями сообщества.

Зарегистрируйтесь и создайте базу данных на сайте [redis.io](https://redis.io/)

## Как установить

В папке со скриптом необходимо создать файл `.env` и записать в него настройки в виде:
```
TG_TOKEN=токен вашего бота в telegram
REDIS_USERNAME=логин redis(для базы данных)
REDIS_PASSWORD=пароль redis(для базы данных)
REDIS_HOST=адрес базы данных
REDIS_PORT=порт базы данных
REDIS_DB=номер базы данных(если она одна, укажите 0)
VK_API_KEY=ключ API ВК
QUESTIONS_PATH=путь до JSON файла с вопросами
```

[Python 3.7+](https://www.python.org/downloads/) должен быть уже установлен. 
Затем используйте `pip` (или `pip3`, есть конфликт с Python2) для установки зависимостей:
```
pip install -r requirements.txt
```

## Запуск и использование

Для загрузки вопросов для викторины используйте команду
```commandline
python tools.py load_dir --save_json PATH
```
Где:
- `load_dir` директория с `.txt` файлами викторины
- `--save_json` сохранение вопросов в JSON файл, который потребуется для работы ботов
- `PATH` путь JSON файла

**Либо** создайте свой JSON файл со словарем в формате `{ 'Вопрос': 'Ответ', }`

Для запуска Telegram бота необходимо ввести команду:
```
python telegram_bot.py
```
Для запуска ВК бота необходимо ввести команду:
```
python vk_bot.py
```

### Альтернативный вариант запуска(Только для ОС Windows):

Запустить один из файлов:
- `tg_bot.bat` - для запуска Telegram бота
- `vk_bot.bat` - для запуска ВК бота

Также Вы можете добавить данный файл в автозагрузку для того чтобы бот запускался при запуске ПК.

Для этого:
- Создайте ярлык нужного вам `.bat` файла, нажав на него правой кнопкой мыши и выбрав пункт "Создать ярлык"
- Нажмите клавишу с логотипом Windows + R, напечатайте shell:startup, затем нажмите ОК. Откроется папка Автозагрузка.
- Скопируйте и вставьте ярлык в папку автозагрузки

### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).